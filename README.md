# Microsoft Malware Classification Challenge


# Introduction

In this project, we will be working with a large dataset of assembly codes and byte files to train a machine learning model to accurately classify the files into their respective malware families. Malware, short for malicious software, refers to any software that is designed to harm or exploit a computer system without the user's knowledge or consent. This can include viruses, worms, Trojans, ransomware, and other types of malicious programs. The goal of this project is to develop a solution that can help identify and prevent the spread of malware.

The dataset we will be using for this project consists of 200GB of data, with 50GB of .bytes files and 150GB of .asm files. There are a total of 10,868 .bytes files and 10,868 .asm files, for a total of 21,736 files. Our dataset contains 9 different types of malware, including Ramnit, Lollipop, Kelihos_ver3, Vundo, Simda, Tracur, Kelihos_ver1, Obfuscator.ACY, and Gatak.

Classifying these large amounts of data into their respective malware families is a challenging task, but it is an important one. Microsoft has been very active in building anti-malware products, and it runs its anti-malware utilities on over 150 million computers worldwide. This generates tens of millions of daily data points that need to be analyzed for potential malware. By developing a machine learning model that can accurately classify these files, we can help Microsoft and other organizations identify and prevent the spread of malware.

## Types of Malware:

-   Ramnit: Steals sensitive information and gives a malicious hacker access and control of the infected computer.
-   Lollipop: Adware program that shows ads, redirects search engine results, monitors user actions, downloads applications, and sends information about the computer to a hacker.
- Kelihos_ver1: Kelihos trojan that spreads through networks and carries out harmful activities on infected computers.
-   Kelihos_ver3: Trojan family that distributes spam email messages containing hyperlinks to installers of the Kelihos malware.
-   Vundo: Trojan family that can redirect web searches and display unwanted ads
-   Simda: Family of password-stealing trojans can give a malicious hacker backdoor access and control to your system. They can then steal your passwords and gather information about your system.
-   Tracur: Trojan family that can redirect web searches, display unwanted ads, and download and run other malware.
-   Obfuscator.ACY: Malware family designed to evade detection by security software
-   Gatak: Malware family that steals sensitive information and gives a malicious hacker access and control of the infected computer

# Problem statement:
Given a dataset of assembly codes and byte files, train a machine learning model to accurately classify the files into their respective malware families. The model should be able to classify new, unseen files with high accuracy. The goal is to develop a solution that can help identify and prevent the spread of malware.

# Business Constraints:
-   The model should have a high accuracy rate in order to be effective at detecting and preventing the spread of malware.
- The model should be able to process and classify large numbers of files quickly and efficiently, while operating within the constraints of available computing resources.
- The model should give probability estimates.

# Machine Learning Objective

The objective of this machine learning project is to develop a model that can accurately classify assembly code and byte files into their respective malware families and predict the probability of each data point belonging to each of the nine classes.

# Constraints
- Class probabilities are needed.
- Penalize errors in class probabilites.

# Metric 
Primary Metric : Log loss
Secondary Metric : Confusion Matrix

# Basic Feature Extraction and Exploratory Data Analysis

![[Pasted image 20221214205709.png]]

This is a sample .asm file. We can understand that the .asm files were generated from .bytes code from reverse engineering (using a Disassember program). 

![[Pasted image 20221214210346.png]]

It starts with .text, .idata, .data etc then : memory address???????? Then there are codes like mov push ebp etc.. Which are instructions to the cpu in low level language.


Sample .bytes files
![[Pasted image 20221214224150.png]]


Now we extract features on these two files. Basically if we have a disassembly software, we only need the .bytes file.




# NEXT

[] Write about ngram bow on bytes files
[] Pixel features on bytes files
[] Opcodes, headers and other properties in asm fles  http://flint.cs.yale.edu/cs421/papers/x86-asm/asm.html

https://en.wikipedia.org/wiki/X86_assembly_language